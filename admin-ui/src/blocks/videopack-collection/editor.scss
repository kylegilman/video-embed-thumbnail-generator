@use '@wordpress/base-styles/colors';
@use '@wordpress/base-styles/variables';

// Provide special styling for the placeholder.
// @todo: this particular minimal style of placeholder could be componentized further.
.wp-block-videopack-videopack-gallery {

	// Show Placeholder style on-select.
	&.is-selected .components-placeholder {
		// Block UI appearance.
		color: colors.$gray-900;
		background-color: colors.$white;
		box-shadow: inset 0 0 0 variables.$border-width colors.$gray-900;
		border: none;

		// @todo: this should eventually be overridden by a custom border-radius set in the inspector.
		border-radius: variables.$radius-block-ui;

		> svg {
			opacity: 0;
		}

		.components-placeholder__illustration {
			display: none;
		}

		&::before {
			opacity: 0;
		}
	}

	// Remove the transition while we still have a legacy placeholder style.
	// Otherwise the content jumps between the 1px placeholder border, and any inherited custom
	// parent border that may get applied when you deselect.
	.components-placeholder__label,
	.components-placeholder__instructions,
	.components-button {
		transition: none;
	}
}

.videopack-sort-control-wrapper {
	display: flex;
	align-items: flex-end;
	gap: 8px;
	margin-bottom: 16px;

	.components-base-control {
		flex-grow: 1;
		margin-bottom: 0;
	}

	.components-button.has-icon {
		margin-bottom: 4px;
	}
}

.videopack-excluded-videos {
	margin-top: 20px;
	border-top: 1px solid #ddd;
	padding-top: 10px;

	p {
		font-weight: 500;
		margin-bottom: 10px;
	}

	.videopack-excluded-list {
		display: flex;
		flex-direction: column;
		gap: 8px;
	}

	.videopack-excluded-item {
		display: flex;
		align-items: center;
		gap: 10px;
		background: #f0f0f0;
		padding: 5px;
		border-radius: 4px;

		.videopack-excluded-thumbnail {
			width: 60px;
			background: #ccc;
			display: flex;
			align-items: center;
			justify-content: center;
			overflow: hidden;
			border-radius: 2px;
			flex-shrink: 0;

			img {
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
			svg {
				width: 16px;
				height: 16px;
			}
		}

		.videopack-excluded-title {
			flex-grow: 1;
			font-size: 12px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.videopack-restore-item {
			min-width: 24px;
			padding: 0;
			color: #666;
			background: transparent;
			&:hover {
				color: #d00;
				background: #e0e0e0;
			}
		}
	}
}

// Shared styles for overlay buttons in both List and Gallery views
.videopack-video-list-wrapper,
.videopack-gallery-wrapper {
	.videopack-remove-item,
	.videopack-edit-item,
	.videopack-drag-handle,
	.gallery-add-button {
		cursor: pointer;
		background-color: rgba(0, 0, 0, 0.7);
		color: white;
		border-radius: 50%;
		width: 24px;
		height: 24px;
		display: flex;
		justify-content: center;
		align-items: center;
		font-size: 16px;
		font-weight: bold;
		z-index: 10;
		transition: background-color 0.2s ease-in-out;
		border: none;
		padding: 0;

		svg {
			width: 16px;
			height: 16px;
			fill: currentColor;
		}
	}

	.videopack-remove-item:hover {
		background-color: rgba(255, 0, 0, 0.8);
		color: white;
	}

	.videopack-edit-item:hover,
	.gallery-add-button:hover,
	.videopack-drag-handle:hover {
		background-color: rgba(0, 124, 255, 0.8);
		color: white;
	}

	.videopack-drag-handle {
		cursor: move;
	}
}
